{% extends "layout.html" %}

{% block content %}
    <style>

        .labelContainer {
            min-width: 400px;
            max-width: 700px; /* Set a maximum width or adjust as needed */
            display: flex;
            flex-wrap: wrap;
            gap: 2px; /* Adjust the gap between checkboxes */
            z-index: 1;
            background-color: #f9f9f9;
            margin-right: 10px; /* Adjust margin as needed */
        }

        .tagLabel_checked {
            margin-right: 1px; /* Adjust margin as needed */
            font-size: 13px; /* Adjust font size as needed */
            padding: 1px; /* Add padding for better visual appearance */
            background-color: #888;
            box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
            border: 1px solid #000; /* Add a black border around each label */
        }

        .tagLabel_unchecked {
            margin-right: 1px; /* Adjust margin as needed */
            font-size: 13px; /* Adjust font size as needed */
            padding: 1px; /* Add padding for better visual appearance */
            background-color: #cff;
            box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
            border: 1px solid #000; /* Add a black border around each label */
        }

        .tagLabel label:hover {
            background-color: #ddd;
        }

        input[type="checkbox"] {
            transform: scale(0.8); /* Adjust the scale to make the checkboxes smaller */
            margin-right: 3px; /* Adjust margin between checkbox and label */
        }

    </style>


    <h1>Manual tagging {{ selected_order }}</h1>
    <form id="checkboxForm" method="POST">
        <button type="submit" name="save_changes">Save Changes</button>
        <button type="submit" name="reset">Reset</button>

        <h3>Transcations</h3>
        {% for chunk in range(0, n_transactions, chunk_size) %}
            <a href={{ url_for('tags.manual_tagging', order_by=order_by, index_start=chunk, index_end=[chunk+chunk_size-1, n_transactions]|min) }}>
            [{{ chunk }} : {{ [chunk+chunk_size-1, n_transactions]|min }}]
            </a>
        {% endfor %}
        <br>

        <h5>Order:
            <a href={{ url_for('tags.manual_tagging', order_by='least tagged', index_start=index_start, index_end=index_end) }}>
                <button type="button" {% if order_by == 'least tagged' %}disabled{% endif %}>Least tagged rows first
                </button>
            </a>
            <a href={{ url_for('tags.manual_tagging', order_by='newest', index_start=index_start, index_end=index_end) }}>
                <button type="button" {% if order_by == 'newest' %}disabled{% endif %}>Newest rows first</button>
            </a>
        </h5>
        {{ table_html | safe }}

    </form>

{% endblock content %}