{% extends "layout.html" %}

{% block content %}
    <h1>Tags</h1>
    <a href={{url_for('tags.tags_new')}}>Create new tag</a>

    <h3>Existing tags</h3>
    {% if all_tags is string %}
        {{ all_tags }}
    {% else %}
        <ul>
        {% for tag in all_tags %}
            <li>
                <a href={{ url_for('tags.tag_info', tag_name=tag['name']) }}>
                    {{ tag['name'] }}
                </a>
                {% if 'n_rows' in tag %}
                    [{{ tag['n_rows'] }}]
                {% endif %}
            </li>
        {% endfor %}
        </ul>
    {% endif %}
    <form method="POST" action="/tags/recalculate" enctype="multipart/form-data">
        <input type="submit" id="recalculate_tags" value="Recalculate tags">
    </form>
    <br>
    <form method="POST" action="/tags/reset" enctype="multipart/form-data">
        <input type="submit" id="reset_tags" value="Reset tags" disabled>
        <h3 style="color:Tomato;"> (WARNING: it will delete all the saved tags)</h3>
    </form>

{% endblock content %}